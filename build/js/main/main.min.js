"use strict";svg4everybody();var xhr=new XMLHttpRequest;xhr.open("POST","http://alex-checktask.devsotbit.ru/teaching/products.php"),xhr.timeout=2e3,xhr.onload=function(){var e,t,r,y,h,q,S,x,b,C,o,c,v,g,E,k;200!=xhr.status?(e=document.querySelector(".products-block__tabs-content"),addErrorText(e,"error")):(t=JSON.parse(xhr.response),r=document.querySelector("#template-card"),y=r.content.querySelector(".product-card__img"),h=r.content.querySelector(".product-card__title"),q=r.content.querySelector(".product-card__articul-text"),S=r.content.querySelector(".product-card__price"),x=r.content.querySelector(".product-card"),b=document.querySelector(".products-block__tabs-content"),C=document.createElement("div"),o=document.createElement("span"),c=document.createElement("div"),v=document.createElement("input"),g=document.createElement("label"),E=document.createElement("img"),k=document.createElement("span"),C.classList.add("product-card__offers-block"),o.classList.add("product-card__offers-title"),c.classList.add("product-card__offers-wrap"),C.append(o),C.append(c),v.classList.add("product-card__offers-item-input"),v.type="radio",g.classList.add("product-card__offers-item-label"),E.classList.add("product-card__offers-item-img"),k.classList.add("product-card__offers-item-label-text"),t.forEach(function(d){y.setAttribute("src",d.imgSrc),h.textContent=d.title,q.textContent=d.productCode,S.textContent=d.price;var e=document.importNode(x,!0);b.appendChild(e);var t,r,a,o,c,n,l=e.querySelector(".product-card__form"),u=e.querySelector(".product-card__add-to-basket"),i=e.querySelector(".product-card__quantity-icon-in-stock"),s=e.querySelector(".product-card__quantity-icon-none"),p=e.querySelector(".product-card__quantity-count"),_=e.querySelector(".product-card__rating-star"),f=Array.prototype.slice.call(_.querySelectorAll(".rating-star-input")),m=_.querySelectorAll(".rating-star-label");f.forEach(function(e,t){e.id="star-rating_ID"+t+d.id,e.name="star-rating_ID"+d.id,m[t].setAttribute("for","star-rating_ID"+t+d.id),d.rating==e.value&&(e.checked=!0)}),d.quantity<=0?(p.textContent=0,i.style.display="none"):(p.textContent=d.quantity,s.style.display="none"),d.colors&&(r=(t=l.insertBefore(C.cloneNode(!0),u)).querySelector(".product-card__offers-title"),a=t.querySelector(".product-card__offers-wrap"),r.textContent="Цвет",d.colors.forEach(function(e,t){var r=a.appendChild(v.cloneNode()),o=a.appendChild(g.cloneNode()),c=o.appendChild(E.cloneNode());r.id="color_offer_"+d.id+t,r.name="product-card__offers-color",r.value=e.nameColor,o.setAttribute("for",r.id),c.setAttribute("src",e.imgColor),0==t&&(r.checked=!0)})),d.size&&(c=(o=l.insertBefore(C.cloneNode(!0),u)).querySelector(".product-card__offers-title"),n=o.querySelector(".product-card__offers-wrap"),c.textContent="Размер",d.size.forEach(function(e,t){var r=n.appendChild(v.cloneNode()),o=n.appendChild(g.cloneNode()),c=o.appendChild(k.cloneNode());r.id="size_offer_"+d.id+t,r.name="product-card__offers-size",r.value=e,o.setAttribute("for",r.id),c.textContent=e,0==t&&(r.checked=!0)}))}),removePreloader())},xhr.ontimeout=function(){var e=document.querySelector(".products-block__tabs-content");addErrorText(e,"timeout"),removePreloader()},xhr.send(),showPreloader();